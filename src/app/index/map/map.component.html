<div class="device-status">
    <div class="device-header">{{ selected_room.room.title }}</div>
    <div class="icon-div" *ngFor="let device_status of selected_room.device_status; let i = index;">
        <div>
            <div class="device-status-bg" [ngStyle]="{'background-color': device_status.status === '运行' ? '#05fd2e' : '#ff0e06'}"></div>
            <i class="fas fa-desktop device-icon"></i>
        </div>
        <div style="text-align: center; width: 100%; margin-top: 5px;">
            <span class="device-name-span">{{ device_status.device_name }}</span>
        </div>
        <!-- <span class="device-status-span" [ngStyle]="{'background-color': device_status.status === '运行' ? '#05fd2e' : '#ff0e06'}" ></span> -->
    </div>
</div>
<div class="static-map">
    <div class="header-map">
    <div class="open-count">
        <span class="map-text">总设备开通数:&nbsp;&nbsp;</span>
        <span class="map-text device-num">
            {{ all_rooms[0].device_status.length + all_rooms[1].device_status.length + all_rooms[2].device_status.length + all_rooms[3].device_status.length }}
        </span>
    </div>
    <div class="expr-count">
        <span class="map-text">总运行小时数:&nbsp;&nbsp;</span>
        <span class="map-text expr-num">3602</span>
    </div>
    <div></div>
    </div>
    <div leaflet [leafletOptions]="options" [leafletLayers]="layers" (leafletMapReady)="mapReady($event)"></div>
    <div class="mesg-div">
        <div class="mesg-title">
            {{ selected_room.room.title }}
        </div>
        <div class="mesg">
            正在运行设备:&nbsp;&nbsp;&nbsp;&nbsp;
            <span class="run-text">{{ selected_room.room.run_devices }}</span>
        </div>
        <div class="mesg">
            实验室总设备:&nbsp;&nbsp;&nbsp;&nbsp;
            <span class="device-text">{{ selected_room.device_status.length }}</span>
        </div>
        <div class="mesg">
            实验室总人数:&nbsp;&nbsp;&nbsp;&nbsp;
            <span class="person-text">{{ selected_room.room.total_person }}</span>
        </div>
    </div>
</div>
